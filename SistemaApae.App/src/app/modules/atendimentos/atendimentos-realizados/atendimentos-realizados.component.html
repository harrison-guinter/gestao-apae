<div class="atendimentos-container">
  <app-filters-container
    [formGroup]="filtrosForm"
    (clear)="onClear()"
    [showAddButton]="false"
    (search)="pesquisarAtendimentos()"
    title="Lista de Atendimentos Realizados"
  >
    <app-autocomplete
      label="Assistido"
      placeholder="Digite para buscar..."
      [options]="(assistidosOptions$ | async) || []"
      [control]="$any(filtrosForm.get('assistido'))"
      [clearable]="true"
      prefixIcon="person"
      cssClass="padding-right mat-spacing-sm field-md"
    >
    </app-autocomplete>

    <app-autocomplete
      label="Profissional"
      placeholder="Digite para buscar..."
      [options]="(profissionalOptions$ | async) || []"
      [control]="$any(filtrosForm.get('profissional'))"
      [clearable]="true"
      prefixIcon="person"
      cssClass="padding-right mat-spacing-sm field-md"
    >
    </app-autocomplete>

    <app-date
      label="Data Início"
      placeholder="dd/MM/yyyy"
      [control]="$any(filtrosForm.get('dataInicio'))"
      cssClass="mat-spacing-sm field-md"
    >
    </app-date>

    <app-date
      label="Data Fim"
      placeholder="dd/MM/yyyy"
      [control]="$any(filtrosForm.get('dataFim'))"
      cssClass="mat-spacing-sm field-md"
    >
    </app-date>

    <app-select
      label="Presença"
      [control]="$any(filtrosForm.get('presenca'))"
      [options]="presencaOptions"
      appearance="outline"
      cssClass="mat-spacing-sm field-md"
      placeholder="Selecione a presença"
    >
    </app-select>

    <app-select
      label="Status"
      [control]="$any(filtrosForm.get('status'))"
      [options]="statusOptions"
      appearance="outline"
      cssClass="mat-spacing-sm field-md"
      placeholder="Selecione o status"
    >
    </app-select>
  </app-filters-container>
  <div class="table-section">
    <app-table
      [columns]="tableColumns"
      [data]="atendimentos"
      [actions]="tableActions"
      [showActions]="true"
      tableClass="atendimentos-table"
    >
    </app-table>
  </div>
</div>
